/*
* ==================================
* Location		: ./static/ajax.js
* Machine		:
* Property of	: RL OLC 36B
* Re-generated	: 1208-13 // ddmm-yy
* ==================================
*/
var xhttp=new Array();var myacc=new Object();myacc.acc=new Array();myacc.j=0;myacc.cnt_valid=0;myacc.unsec=0;myacc.res="";myacc.valid="";myacc.longacc="";myacc.shortacc="";myacc.multicheck=false;myacc.index_status=false;myacc.head="";myacc.param="";myacc.idbuttonrschk="btnchkacc";myacc.divwaitrschk="waiting";myacc.chead='<table cellspacing="0" cellpadding="2" class="tbl_acc"><tr id="tr_acc_header"><th>'+php_js_strings[2]+"</th> <th>"+php_js_strings[3]+'</th><th title="'+php_js_strings[4]+'">'+php_js_strings[5]+'</th><th title="'+php_js_strings[6]+'">'+php_js_strings[7]+'</th><th title="'+php_js_strings[8]+'">'+php_js_strings[9]+'</th><th title="'+php_js_strings[13]+'">'+php_js_strings[14]+'</th><th title="'+php_js_strings[17]+'">'+php_js_strings[18]+'</th><th title="'+php_js_strings[15]+'">'+php_js_strings[16]+'</th><th title="'+php_js_strings[10]+'">'+php_js_strings[11]+"</th><th>"+php_js_strings[12]+"</th></tr>";var d=document;var _debug2=false;var _debug=false;function AJAXInteraction(url,callback,dvwait,dvresult,sendmyacc,req_resp){var req=init();req.onreadystatechange=processRequest;function init(){if(typeof XMLHttpRequest=="undefined"){objects=Array("Microsoft.XmlHttp","MSXML2.XmlHttp","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.5.0");for(i=0;i<objects.length;i++){try{return new ActiveXObject(objects[i])}catch(e){}}}else{return new XMLHttpRequest()}}function processRequest(){var stloading_acc="";var response;if(req.readyState==4){if(req.status==200){if(callback){response=(_debug==true?req.responseText:(req_resp!="xml"?req.responseText:req.responseXML));callback(response,dvwait,dvresult,sendmyacc,req_resp)}}}else{if(sendmyacc.multicheck>0){wprogress=parseInt((sendmyacc.j+1)*100/sendmyacc.acc.length);stloading_acc="<b class='g'>"+sendmyacc.acc[sendmyacc.j]+"</b><table align='center'><tr><td><div style='border:#BBBBBB 1px solid; width:300px; height:10px;'><div id='progress' style='background-color:#18f20d; margin:1px; width:"+wprogress+"%; height:8px;'></div></div></td></tr></table><span id='nfoacc'>#[<b class='g'>"+eval(sendmyacc.j+1)+"</b>] of "+sendmyacc.acc.length+"</span>"}d.getElementById(dvwait).innerHTML=stloading_acc+'&nbsp;<span style="background-color:#800000;">&nbsp;<img alt="loading" src="'+IMG_DIR_TPL+'fbload.gif" alt="'+php_js_strings[1]+'">&nbsp;&nbsp;<b class="o">'+php_js_strings[1]+"</b>&nbsp;</span>"}}this.doGet=function(){req.open("GET",url,true);req.send(null)};this.doPost=function(body){req.open("POST",url,true);req.setRequestHeader("Content-Type","application/x-www-form-urlencoded");req.setRequestHeader("Content-length",body.length);req.send(body)}}var fcallback=function(c,f,j,g,b){var a=c;if(b=="xml"){createTable(a,f,j);return}g.res=g.res+a;if(g.multicheck&&a!=""){d_acc=getBetween(a,"<<acc>>","<</acc>>");g.longacc+=d_acc+"\n";g.cnt_valid+=1;startcode=g.res.indexOf("<!end>");if(startcode!=-1){g.res=g.res.substr(0,startcode)}if(a.indexOf("<blink>OFF</blink>")!=-1){g.unsec+=1}g.valid=g.valid+g.acc[g.j]+"\n"}if(g.multicheck){g.head=g.chead;g.index_status=false;g.shortacc=cleanacc(g.valid);txtarea='</table><b class="g">'+php_js_strings[27]+"</b>&nbsp;"+php_js_strings[19]+'<br /><textarea id="validacc" class="redtxtarea" style="width: 100%; height: 140px">'+g.longacc+"</textarea>";txtarea+='<table style="width: 100%;"><tr><td width="50%" align="left"><small>'+php_js_strings[20]+' <b class="o">'+(g.j+1)+"</b><br />"+php_js_strings[22]+' <b class="y"><blink>'+g.unsec+"</blink></b><br />"+php_js_strings[21]+' <b class="r">'+((g.j+1)-g.cnt_valid)+'</b></small></td><td align="right" valign="top"><label><input type="checkbox" id="nodet" onclick="NoDetail(myacc.shortacc,myacc.longacc);">'+php_js_strings[23]+"</label></td></tr></table>"}if(g.res!=""&&g.multicheck){d.getElementById(j).innerHTML=g.head+g.res+txtarea}if(g.index_status==true){try{d.getElementById(g.idbuttonrschk).disabled=false;d.getElementById(g.divwaitrschk).innerHTML="";d.getElementById(g.divwaitrschk).style.display="none"}catch(h){}}if(!g.multicheck||g.j>=(g.acc.length-1)){d.getElementById(j).style.display="";if(g.multicheck){d.getElementById(g.idbuttonrschk).disabled=false;if(g.res==""){d.getElementById(j).innerHTML='<center><small class="y">'+php_js_strings[24]+"</small></center>"}try{d.getElementById("refresh").style.display=""}catch(h){}}else{d.getElementById(j).innerHTML=a;a="";g.res=""}if(f!=j){d.getElementById(f).innerHTML="";d.getElementById(f).style.display="none"}g.head="";txtarea="";clearTimeout(document.ajxtmr)}else{g.j+=1;callAjax(phpjx,f,j,g,b)}};function callAjax(c,b,g,a,e){var f=(e==undefined?"text":e);ai=null;ai=new AJAXInteraction(c,fcallback,b,g,a,f);if(a.multicheck){ai.doPost(a.param+encodeURI(a.acc[a.j]))}else{ai.doPost(a.param)}}function createHeader(u,m){var I=d.createElement("div");I.id="parentcontainer";var H=d.createElement("div");H.setAttribute("style","text-align:center;margin-top:-10px;");var E=d.createElement("a");E.setAttribute("href","javascript:;");E.setAttribute("onclick","d=document; dcnt=d.getElementById('flcontainer'); ddcnt=d.getElementById('divcontainer'); if(dcnt) {dcnt.style.overflow='visible';d.getElementById('parentcontainer').innerHTML=ddcnt.innerHTML;};try{gosetfacebook();waitandload();}catch(e){};");var t=d.createElement("span");t.setAttribute("id","release");t.setAttribute("title","release me..");t.appendChild(d.createTextNode("release"));E.appendChild(t);H.appendChild(E);I.appendChild(H);H=d.createElement("div");H.setAttribute("id","divcontainer");var B=d.createElement("table");B.setAttribute("id","intbl");B.setAttribute("class","filelist sortable");B.setAttribute("cellpadding","2");B.setAttribute("cellspacing","1");var q=d.createElement("thead");q.setAttribute("id","flheader");tr=d.createElement("tr");tr.setAttribute("class","filelist_title");tr.setAttribute("align","center");tr.setAttribute("valign","bottom");var F=u.getElementsByTagName("totalfiles").item(0);F=F.childNodes.item(0).data;var k=new Object();var r;var K=u.getElementsByTagName("columns").item(0);var v="";v=u.getElementsByTagName("ajaxdelete").item(0);v=(v?v.childNodes.item(0).data:0);for(var y=0;y<K.childNodes.length;y++){var M=K.childNodes.item(y);for(var L=0;L<M.childNodes.length;L++){var O=M.childNodes.item(L);var w="";var A="";td=d.createElement("td");if(M.tagName=="filename"){var C=u.getElementsByTagName("option").item(0);if(C!=null){var p=d.createElement("select");p.id="sel_actionfile";p.setAttribute("name","act");p.setAttribute("style","text-align:left; float:left;");p.setAttribute("onChange","javascript:void(document.flist.submit());");var e=u.getElementsByTagName("actions").item(0);for(var z=0;z<e.childNodes.length;z++){var N=e.childNodes.item(z);for(var J=0;J<N.childNodes.length;J++){var s=N.childNodes.item(J);act_ret=s.data.split(":",3);var f=d.createElement("option");if(act_ret[0]!="-1"){f.setAttribute("value",act_ret[0])}A=d.createTextNode(act_ret[2]);f.appendChild(A);p.appendChild(f)}}td.appendChild(p);w="("+F+" file"+(F>1?"s":"")+") "}}r=d.createElement("b");if(M.tagName=="ajax_del"&&v!="1"){continue}if(M.tagName=="chkbox"||M.tagName=="ajax_del"||M.tagName=="fileage"){r.setAttribute("class","sorttable_nosort");if(M.tagName=="ajax_del"){td.setAttribute("style","padding-right:20px;")}}A=d.createTextNode((w!=""?w:"")+O.data);r.appendChild(A);td.appendChild(r);tr.appendChild(td);k[M.tagName]=O.data}}q.appendChild(tr);B.appendChild(q);var a=d.createElement("tbody");var P=(F>=13?"280px":"100%");a.id="flcontainer";a.setAttribute("style","height: "+P+";");var l="((__row_container__))";var g=d.createTextNode(l);a.appendChild(g);if(F>0){var h=d.createElement("tfoot");tr=d.createElement("tr");tr.id="sffooter";td=d.createElement("td");tr.appendChild(td);td=d.createElement("td");A=d.createTextNode("Total : "+F+" file"+(F>1?"s":""));td.appendChild(A);tr.appendChild(td);td=d.createElement("td");var o=u.getElementsByTagName("totalsize").item(0);A=d.createTextNode(cleanTxt(o.childNodes.item(0).data));td.appendChild(A);tr.appendChild(td);td=d.createElement("td");var D=u.getElementsByTagName("columnspan").item(0);D=(D?D.childNodes.item(0).data:-1);if(D>0){A=d.createTextNode(D);td.setAttribute("colspan",""+A.nodeValue+"");tr.appendChild(td)}h.appendChild(tr)}var c=u.getElementsByTagName("proceestime").item(0);var G=d.createElement("div");var b=d.createElement("small");r=d.createElement("b");A=d.createTextNode(F);r.appendChild(A);b.setAttribute("class","y");b.appendChild(r);G.appendChild(b);b=d.createElement("small");b.setAttribute("class","footer3");A=d.createTextNode(" file"+(F>1?"s":"")+" loaded in "+c.childNodes.item(0).data+" sec");b.appendChild(A);G.appendChild(b);B.appendChild(a);B.appendChild(h);H.appendChild(B);I.appendChild(H);m.appendChild(I);m.appendChild(G);createContent(u,m,l,k)}function createContent(r,s,m,h){var j="\n";var q=new Object();var e=-1;var f=r.getElementsByTagName("files").item(0);for(var g=0;g<f.childNodes.length;g++){var l=f.childNodes.item(g);for(i=0;i<l.childNodes.length;i++){var a=l.childNodes.item(i);if(l.tagName=="fileid"){e++;q["file"+e]=new Object()}q["file"+e][l.tagName]=a.data}}if(_debug2){alert(dump(q))}var k=new Object();k.tagIRen=r.getElementsByTagName("instantrename").item(0);k.tagIRen=(k.tagIRen?k.tagIRen.childNodes.item(0).data:0);k.ajaxDel=r.getElementsByTagName("ajaxdelete").item(0);k.ajaxDel=(k.ajaxDel?k.ajaxDel.childNodes.item(0).data:0);var p="";var b=new Object();p='<tr id="brs((chkidx))" class="rowlist" onmousedown="clk(\'cek_((chkidx))\', this);" onmouseout="if(document.getElementById(\'cek_((chkidx))\').checked){this.className=\'rowlist_checked\';}else{this.className=\'rowlist\';}" title="((filename))" align="center">'+j;p+="<td>";p+=(k.tagIRen==1?'<div id="rename_container" onmouseup="ren(this, \'fn_((chkidx))\', \'((dateid))\')"><div class="rename_es"></div></div>':"");p+='<input name="files[]" id="cek_((chkidx))" value="((dateid))" onclick="clk(\'cek_((chkidx))\')" type="checkbox"></td>'+j;p+='<td id="fn_((chkidx))"><b><a href="((filepath))">((filename))</a></b></td>'+j;p+="<td>((filesize))</td>";p+=(undefined!=h.filelink?'<td title="((filelink))"><a href="((filelink))">((filelinktr))</a></td>'+j:"");p+=(undefined!=h.filemd5?'<td class="txtmd5">((filemd5))</td>'+j:"");p+=(undefined!=h.filecomment?"<td>((filecomment))</td>"+j:"");p+=(undefined!=h.filedate?"<td>((filedate))</td>"+j:"");p+=(undefined!=h.fileage?"<td><small>((fileage))</small></td>"+j:"");p+=(undefined!=h.fileip?"<td>((fileip))</td>"+j:"");p+=(k.ajaxDel==1?'<td><a id="dL-((chkidx))" href="del.php?d=((filedelkey))&lineid=((chkidx))" rel="facebox"> <img src="'+IMG_DIR_TPL+'rldel.png" alt="X"></a></td>':"");p+="</tr>";var n="",o="";for(var c in q){pfile=q[c];n=p;n=n.replace(/\(\(chkidx\)\)/g,pfile.fileid.replace(/brs/g,""));n=n.replace(/\(\(filename\)\)/g,pfile.filename);n=n.replace(/\(\(filepath\)\)/g,pfile.filepath);n=n.replace(/\(\(dateid\)\)/g,pfile.filedateid);n=n.replace(/\(\(filesize\)\)/g,pfile.filesize);n=n.replace(/\(\(filelink\)\)/g,pfile.filelink);n=n.replace(/\(\(filelinktr\)\)/g,pfile.filelinktr);n=n.replace(/\(\(filecomment\)\)/g,(pfile.filecomment!=undefined?pfile.filecomment:"-"));n=n.replace(/\(\(filemd5\)\)/g,pfile.filemd5);n=n.replace(/\(\(filedate\)\)/g,pfile.filedate);n=n.replace(/\(\(fileage\)\)/g,pfile.fileage);n=n.replace(/\(\(fileip\)\)/g,pfile.fileip);n=n.replace(/\(\(filedelkey\)\)/g,pfile.filedelkey);o+=n}o=cleanTxt(o);bufRes=s.innerHTML;bufRes=bufRes.replace(m,o);s.innerHTML=bufRes}function createTable(c,f,k){var b=false;if(_debug){alert("Table Creator\n"+c)}else{b=c}var a=d.getElementById(k);a.innerHTML="";if(b){var g=b.getElementsByTagName("data").item(0);var h=b.getElementsByTagName("succeed").item(0).childNodes.item(0).data;if(!g){alert("Invalid XML root")}if(h==0){a.innerHTML=b.getElementsByTagName("msg").item(0).firstChild.data}else{if(g){createHeader(b,a);if(_debug2){a.innerHTML+=dbPar(a.innerHTML)}}}d.getElementById(f).innerHTML="";d.getElementById(f).style.display="none";try{gosetfacebook();waitandload()}catch(j){}}}function cleanTxt(a){return a.replace(/\(\(space\)\)/g," ")}function isset(a){return(typeof(window[a])!="undefined")}function dbPar(a){return bufText="<br />Debug2:<br /><textarea rows='10' cols='70'>"+a.replace(/>/g,"&gt;").replace(/</g,"&lt;")+"</textarea>"}function dump(a,h){var g="";if(!h){h=0}var f="";for(var b=0;b<h+1;b++){f+="    "}if(typeof(a)=="object"){for(var c in a){var e=a[c];if(typeof(e)=="object"){g+=f+"'"+c+"' ...\n";g+=dump(e,h+1)}else{g+=f+"'"+c+"' => \""+e+'"\n'}}}else{g="===>"+a+"<===("+typeof(a)+")"}return g}function get(c,b,h,j){var g="";var a="text";myacc.unsec=0;myacc.cnt_valid=0;myacc.longacc="";ibtnsubmit=j;myacc.param=c;myacc.multicheck=false;myacc.index_status=false;switch(c){case"staccounts":myacc.param="staccounts=1";myacc.index_status=true;try{d.getElementById(myacc.idbuttonrschk).disabled=true;d.getElementById(myacc.divwaitrschk).innerHTML='<span style="color:#239FD9;">'+php_js_strings[1]+"<br />"+php_js_strings[25]+"</span>";d.getElementById(myacc.divwaitrschk).style.display=""}catch(f){}break;case"accounts":g=(d.getElementById(c).value);if(g.indexOf(":")==-1){return}myacc.param="accounts=";myacc.multicheck=true;try{d.getElementById("refresh").style.display="none"}catch(f){}break;case"posttraffic":myacc.param="fntrafic="+d.getElementById("posttraffic").value;break;case"misionMd5":myacc.param="md5fn="+d.getElementById("misionMd5").value;break;case"doTBLoad":myacc.param="TBLoad="+d.getElementById("rfr").value+":::";a="xml";break;case"deletelog":myacc.param="dellog="+d.getElementById("deletelog").value;break;case"ajxRename":myacc.param="ren="+d.getElementById("renhiddenval").value;break;default:myacc.param="";break}d.getElementById(b).innerHTML='&nbsp;<span id="waiting_tbload" style="background-color:#800000;">&nbsp;<img alt="loading" src="'+IMG_DIR_TPL+'fbload.gif">&nbsp;&nbsp;<b class="o">'+php_js_strings[1]+"</b>&nbsp;</span>";d.getElementById(b).style.display="";if(myacc.param!=""){if(myacc.multicheck){myacc.acc=makeAray(g);myacc.j=0;myacc.res="";myacc.valid="";myacc.head=myacc.chead;d.getElementById(ibtnsubmit).disabled=true}callAjax(phpjx,b,h,myacc,a)}}function makeAray(b){var a=b.split("\n");for(var c=0;c<a.length;c++){/\s$/.test(a[c])?a[c]=a[c].replace(/\s$/,""):null;if(a[c].length==0){a.splice(c,1)}}return a}function login(b,c,h){var g=document;var g=g,f;var a="https://ssl.rapidshare.com/cgi-bin/";var e=g.getElementById("myform");if(h=="cz"){f="username";e.action=a+"collectorszone.cgi"}else{f="login";e.action=a+"premiumzone.cgi"}g.getElementById(f).value=b;g.getElementById("password").value=c;g.myform.submit()}function pr(a){var b=document;b.getElementById("progress").style.width=a+"%";return true}function setzeTT(c){var b=c;var a=" ";if(c.length>3){b=setzeTT(c.substr(0,c.length-3))+a+c.substr(c.length-3)}return b}function NoDetail(c,a){var f=document;var e=f.getElementById("nodet").checked?true:false;var b="";if(e){b=c}else{b=a}f.getElementById("validacc").innerHTML=b}function cleanacc(b){var f,c,e="";f=b.split("\n");for(var a=0;a<f.length;a++){if(f[a].indexOf(":")!=-1){c=f[a].split(":");e+=c[0]+":"+c[1]+"\n"}}return e}function getBetween(txsrc,lh,rh){var poslh=txsrc.indexOf(lh);var posrh=txsrc.indexOf(rh);var pure=txsrc.substring(eval(poslh+lh.length),posrh);return pure}function _gLoad(b,a){frmTB=d.getElementById("frmTBLoad");frmTB.action='javascript:get("doTBLoad", "'+b+'", "'+a+'", "")';frmTB.submit()}function disableIt(e){var c=new Array;var b=new Array(true,"redtxtareadisable",true,"");var a=new Array(false,"redtxtarea",false,"none");if(e==1){c=b}else{c=a}d.getElementById("links").readOnly=c[0];d.getElementById("links").className=c[1];d.getElementById("btnlnkchk").disabled=c[2];d.getElementById("lnkwait").style.display=c[3]}function checkLink(){var a=Array();disableIt(1);links=d.getElementById("links").value;a=LnkChkHandler(links);if(a.length!=0){getResults(dlinks,a,"index")}else{alert("Bad Link URL");disableIt(0)}}var http_req_rs=false,d=document;var section,rslinks,startFrm=0;var array_links=new Array();var arResp=new Array();function makePOSTReqRs(a,b){if(typeof XMLHttpRequest=="undefined"){objects=Array("Microsoft.XmlHttp","MSXML2.XmlHttp","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.5.0");for(i=0;i<objects.length;i++){try{http_req_rs=new ActiveXObject(objects[i])}catch(c){}}}else{http_req_rs=new XMLHttpRequest()}if(!http_req_rs){alert("Cannot create XMLHTTP instance");return false}http_req_rs.open("POST",a,true);http_req_rs.setRequestHeader("Content-type","application/x-www-form-urlencoded");http_req_rs.setRequestHeader("Content-length",b.length);http_req_rs.setRequestHeader("Connection","close");http_req_rs.onreadystatechange=function(){handleResults(http_req_rs)};http_req_rs.send(b)}function handleResults(xhr){if(xhr.readyState==4){if(xhr.status==200){if(xhr.responseText=="url.blank"){d.body.innerHTML="Enter a valid URL"}else{var resp=xhr.responseText,j=0,txrest;var aneh=unescape("%EF%BB%BF");rtime=getBetween(resp,"<timerequire>","</timerequire>");resp=getBetween(resp,"<result>","</result>");resp=resp.replace(aneh,"");arResp=resp.split("\n");if(undefined!=arResp){if(section=="audl"){for(var i=startFrm;i<array_links.length;i++){d.getElementById("status"+i).innerHTML=arResp[j];d.getElementById("statusTitle").innerHTML="&nbsp;<b><a href='javascript:;' onclick='reLink(); loadHandler();'>Status</a></b>&nbsp;";j++}d.getElementById("btnaddlinks").disabled=false}else{txrest='<div id="listlink">';cntunknow=0;cntgood=0;linkonly=d.getElementById("d").checked;for(var i=startFrm;i<array_links.length;i++){good=(arResp[j].indexOf("good link")!=-1);if(good){cntgood++}unknow=(arResp[j].indexOf("unknown link")!=-1);if(unknow){cntunknow++}txrest+="<a class="+(good?'"g"':'"r"')+' href="'+array_links[i]+'" target="_blank">'+array_links[i]+"</a>"+(linkonly?"":"&nbsp;"+arResp[j])+"<br />\n";j++}txrest+="</div>";spc="&nbsp;";lnk="Link:&nbsp;";txrest+='<br /><hr /><center><small style="color:#fff"><b class="o">'+array_links.length+"</b> "+rtime+"<br />\n";txrest+="Dead&nbsp;"+lnk+'<b class="r">'+eval(array_links.length-cntgood-cntunknow)+"</b>\n";txrest+=spc+spc+"&#8212;"+spc+spc+"Good&nbsp;"+lnk+'<b class="g">'+eval(cntgood)+"</b>\n";txrest+=spc+spc+"&#8212;"+spc+spc+"Unknown&nbsp;"+lnk+'<b class="y">'+eval(cntunknow)+"</b></small></center>\n";d.getElementById("linkresult").innerHTML=txrest;disableIt(0)}if(section=="audl"){d.getElementById("btnaddlinks").disabled=false}else{disableIt(0)}}}}else{alert("There was a problem with the request.")}}}function chklinkOnly(a){var c="";try{d_target=d.getElementById("listlink");d_target=(d_target&&arResp.length)}catch(f){}if(d_target==null){return false}for(var b=0;b<array_links.length;b++){good=(arResp[b].indexOf("good link")!=-1);c+="<a class="+(good?'"g"':'"r"')+' href="'+array_links[b]+'" target="_blank">'+array_links[b]+"</a>"+(a?"":"&nbsp;"+arResp[b])+"<br />\n"}d.getElementById("listlink").innerHTML=c}function strrev(a){var c=a,b="";for(i=c.length;i>=0;i--){b=b+c.charAt(i)}hsl=encodeBase64(b);return hsl}function jlnkfilter(a){var f=a,c=new Array("*");var e="";srcL:for(var b=0;b<c.length;b++){if(f.indexOf(c[b])!=-1){f=f.replace(c[b],e);break srcL}}return f}function LnkChkHandler(b,e){var a=new RegExp("\r\n","g");var f=new RegExp("\n","g");var c=/((^http)*).\:\/\/.([a-zA-Z0-9\.])/;dlinks=b;dlinks=dlinks.replace(a,"\n");arlinks=dlinks.split(f);dlinks="";var g=(e>0?e:arlinks.length);for(i=0;i<g;i++){if(arlinks[i].substring(0,7)!="http://"){arlinks[i]="http://"+arlinks[i]}if(c.test(arlinks[i])){dlinks+=jlnkfilter(arlinks[i])+";"}}dlinks=dlinks.substring(0,dlinks.length-1);arlinks=dlinks.split(";");return arlinks}function getResults(c,b,g){var a="";section=g;try{a+=(d.getElementById("lcurl").checked==true?"|_curl=on;":"")}catch(h){}var f="&url="+a+"|_section="+section+";|_url="+strrev(unescape(c));array_links=b;makePOSTReqRs(phpjx,f)}var _rendebug=false;var objFName=new Object();var RenCarier=new Object();var cRow=-1;function fieldEnter(b,a){a=(a)?a:window.event;if(a.keyCode==13&&b.value!=""){ren(RenCarier[cRow]["obj"],"fn_"+cRow,RenCarier[cRow]["fid"]);return false}else{return true}}function strip_quotes(b){var a=/[\'\"\s\\\\\/\?\:\`\~\%\#\&\@\*\+\=\^\|\>\<\;]/g;return b.replace(a,"_").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function recode_escape(a){a=unescape(a);return a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;")}function parseFN(e){var f=new Array();var b=/.*href="(.+?)">/i;var c=/<a.*">(.+?)<\/a>/i;f[0]=c.exec(e);f[1]=b.exec(e);var a=new Array();a[0]=f[0][1];a[1]=f[1][1].substring(0,f[1][1].lastIndexOf("/")+1);return a}function ren(g,k,b){var a=k.replace("fn_","");var l;var c=d.getElementById(k);var h=/class="(.+?)">/i;var e=h.exec(g.innerHTML);if(e[1]=="rename_es"){if(cRow!=-1){restoreRow(cRow)}cRow=a;var m=parseFN(c.innerHTML);objFName[cRow]=new Object();objFName[cRow]["filename"]=m[0];objFName[cRow]["path"]=m[1];c.innerHTML='<input type="text" onkeypress="return fieldEnter(this, event)" name="fn_edit'+cRow+'" id="fn_edit'+cRow+'"  style="width:100%;padding-left:2px;" value="'+objFName[cRow]["filename"]+'"/><div style="display:none;" id="waitRename"></div><span id="resultRename" style="display:none;position:absolute;left:-1000px;"></span><input id="renhiddenval" style="display:none;" value="'+b+'"/>';l=d.getElementById("fn_edit"+cRow);l.focus();g.innerHTML='<div class="'+e[1]+'_save"></div>';RenCarier[cRow]=new Object();RenCarier[cRow]["obj"]=g;RenCarier[cRow]["td"]=c;RenCarier[cRow]["fid"]=b;RenCarier[cRow]["newFN"]=l.value;RenCarier[cRow]["clsRen"]=e[1].replace("_save","")}else{l=d.getElementById("fn_edit"+cRow);var j=strip_quotes(l.value);var f=objFName[a]["filename"].replace(/\&amp;/g,"&");if(j!=f){l.style.disabled="true";objFName[cRow]["newfilename"]=(j);d.getElementById("renhiddenval").value+="|"+encodeBase64(encodeURI(j))+"|"+encodeBase64(encodeURI(f));doRename()}else{restoreRow(cRow)}}}function doRename(){ajxtmr=setTimeout("get('ajxRename','waitRename','resultRename','')",300);var a=setTimeout("renameDone()",700)}function renameDone(){var a=d.getElementById("resultRename");if(a.innerHTML==""){setTimeout("renameDone()",700)}else{var b=a.innerHTML;if(_rendebug){showDebug(b)}var c=parseInt(getBetween(b,"((suc))","((/suc))"));if(c==1){objFName[cRow]["filename"]=recode_escape(objFName[cRow]["newfilename"])}else{if(!_rendebug){alert(getBetween(b,"<msg>","</msg>"))}}restoreRow(cRow);a.style.display="none"}}function restoreRow(a){RenCarier[a]["td"].innerHTML='<b><a href="'+(objFName[a]["path"]+(objFName[a]["filename"]))+'">'+(objFName[a]["filename"])+"</a></b>";RenCarier[a]["obj"].innerHTML='<div class="'+RenCarier[a]["clsRen"]+'"></div>';cRow=-1}function showDebug(a){var c=document.getElementById("parentcontainer");var b=document.getElementById("log_rename");if(!b){var b=document.createElement("textarea");b.id="log_rename";b.setAttribute("style","width:100%;height:120px;font-size:11px;");b.appendChild(document.createTextNode(a));document.body.insertBefore(b,document.body.firstChild)}else{b.innerHTML=a}};

//--- end ajax.js
